import{Q as b,a as _}from"./QFab.a3c7dbfb.js";import{_ as g,al as x,b7 as $,r as i,bv as y,am as w,j as l,C as k,D as n,Q as C,d as s,G as t,H as o,I as a,k as r,m as u,bq as O,b3 as S,F as v,E as Q}from"./index.1cf7b810.js";import{Q as D}from"./QMarkupTable.316bc77b.js";import{S as T}from"./SimpleHeaderMap.80c8272b.js";import"./CartoLayers.088f3153.js";const B=x({name:"OfflineDataPage",components:{SimpleHeaderMap:T},setup(){const e=$(),f=i([1637531,5766419]),d=i(null),c=i(null),h=i(0);return{center:f,extentPolygon:c,offlineRecord:d,numberOfTiles:h,store:e}},methods:{deleteRecord(){this.confirmDialog({title:`${this.$t("confirm")}`,message:`${this.$t("confirmDeleteOfflineRecords")}`,cancel:!0,persistent:!0}).onOk(async()=>{await this.store.deleteAll(this.offlineRecord.id)})}},created(){this.offlineRecord=this.$route.meta.offlineRecord,this.store.getNumberOfTiles(this.offlineRecord.id).then(e=>{this.numberOfTiles=e}),this.offlineRecord.extent&&(this.center=y(this.offlineRecord.extent),this.extentPolygon=[[[this.offlineRecord.extent[0],this.offlineRecord.extent[1]],[this.offlineRecord.extent[0],this.offlineRecord.extent[3]],[this.offlineRecord.extent[2],this.offlineRecord.extent[3]],[this.offlineRecord.extent[2],this.offlineRecord.extent[1]]]])}}),F={class:"text-overline text-orange-9"},M={class:"row no-wrap items-center"},N={class:"col text-h6 ellipsis"},P={key:0,class:"text-grey text-caption q-pt-md items-center"},H={class:"text-left table-row-fit"},I={class:"text-left table-row-fit"},V={class:"text-left table-row-fit"},z={class:"text-left table-row-fit"},q={key:0},A={class:"text-left table-row-fit"},E={class:"text-left table-row-fit"};function j(e,f,d,c,h,G){const p=w("SimpleHeaderMap");return l(),k(C,null,{default:n(()=>[s(p,{center:e.center,extent:e.extentPolygon,height:"400px"},null,8,["center","extent"]),s(a,null,{default:n(()=>[t("div",F,o(e.$t("offlineDataDetails")),1),t("div",M,[t("div",N,o(e.offlineRecord.id)+" - "+o(e.offlineRecord.name),1)]),s(b,{class:"absolute",style:{top:"0",right:"12px",transform:"translateY(-50%)"},"vertical-actions-align":"right",color:"primary",glossy:"",icon:"keyboard_arrow_down",direction:"down"},{default:n(()=>[s(_,{"label-position":"left",color:"green",icon:"delete",label:e.$t("delete"),onClick:e.deleteRecord},null,8,["label","onClick"])]),_:1})]),_:1}),s(a,{horizontal:""},{default:n(()=>[s(a,null,{default:n(()=>[e.offlineRecord.date?(l(),r("div",P,o(e.$t("date"))+": "+o(e.offlineRecord.date),1)):u("",!0)]),_:1})]),_:1}),s(O),s(D,null,{default:n(()=>[t("tbody",null,[t("tr",null,[t("td",H,o(e.$t("numberOfTiles")),1),t("td",I,o(e.numberOfTiles)+" tiles",1)]),t("tr",null,[t("td",V,o(e.$t("storedItems")),1),t("td",z,[(l(!0),r(v,null,S(e.offlineRecord.selectedItems,(m,R)=>(l(),r("span",{key:m},[Q(o(e.$t(m)),1),R+1<e.offlineRecord.selectedItems.length?(l(),r("span",q,", ")):u("",!0)]))),128))])]),t("tr",null,[t("td",A,o(e.$t("dataSize")),1),t("td",E,o((parseInt(e.offlineRecord.totalSize)/1e6).toFixed(2))+" MB",1)])])]),_:1})]),_:1})}var W=g(B,[["render",j]]);export{W as default};
