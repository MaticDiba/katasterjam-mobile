import{Q as se}from"./QResizeObserver.17aa11d3.js";import{Q as H,a as U}from"./QFab.c2be5c23.js";import{i as le,dj as E,dk as ie,c as w,g as ce,di as de,h as A,c$ as Y,d2 as F,cM as p,d8 as C,d9 as a,cO as ue,e4 as Q,r as m,dQ as i,d as t,L as G,e5 as X,cN as b,dd as Z,de as P,db as D,dc as c,dR as ee,e6 as te,dh as x,e7 as K,F as z,d5 as B,d7 as R,aa as me,y as q,P as O,e8 as fe,cV as N,d6 as pe,bF as ge,e9 as oe,dX as he,ea as _e,eb as ye,dV as ve,ec as ae,ed as ke,dN as Ce,ee as ne,df as Le,da as v,ef as I,dg as be,cJ as we}from"./index.288d3ba6.js";import{Q as Se,a as $e,b as De,c as Fe}from"./QPage.3682d5f8.js";import{C as Pe}from"./CartoLayers.d175de32.js";import{u as re}from"./use-quasar.df72b7b8.js";import{Q as k,a as T,b as L}from"./QItem.43e87011.js";import"./WMTS.b0015031.js";const xe={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function Ve(){const{props:e,proxy:{$q:o}}=ce(),s=le(ie,E);if(s===E)return console.error("QPageSticky needs to be child of QLayout"),E;const n=w(()=>{const u=e.position;return{top:u.indexOf("top")!==-1,right:u.indexOf("right")!==-1,bottom:u.indexOf("bottom")!==-1,left:u.indexOf("left")!==-1,vertical:u==="top"||u==="bottom",horizontal:u==="left"||u==="right"}}),d=w(()=>s.header.offset),r=w(()=>s.right.offset),l=w(()=>s.footer.offset),f=w(()=>s.left.offset),h=w(()=>{let u=0,g=0;const S=n.value,M=o.lang.rtl===!0?-1:1;S.top===!0&&d.value!==0?g=`${d.value}px`:S.bottom===!0&&l.value!==0&&(g=`${-l.value}px`),S.left===!0&&f.value!==0?u=`${M*f.value}px`:S.right===!0&&r.value!==0&&(u=`${-M*r.value}px`);const $={transform:`translate(${u}, ${g})`};return e.offset&&($.margin=`${e.offset[1]}px ${e.offset[0]}px`),S.vertical===!0?(f.value!==0&&($[o.lang.rtl===!0?"right":"left"]=`${f.value}px`),r.value!==0&&($[o.lang.rtl===!0?"left":"right"]=`${r.value}px`)):S.horizontal===!0&&(d.value!==0&&($.top=`${d.value}px`),l.value!==0&&($.bottom=`${l.value}px`)),$}),_=w(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function y(u){const g=de(u.default);return A("div",{class:_.value,style:h.value},e.expand===!0?g:[A("div",g)])}return{$layout:s,getStickyContent:y}}var j=Y({name:"QPageSticky",props:xe,setup(e,{slots:o}){const{getStickyContent:s}=Ve();return()=>s(o)}});const Ie={name:"PageFullScreen",methods:{tweak(){return{height:this.$q.screen.height-50+"px"}},myTweak(e){e||(e=0);const o=this.$q.platform.is.cordova?`calc(100vh - ${e}px)`:window.innerHeight-e+"px";return this.$store.state.windowSize=o,{minHeight:o}}}};function Te(e,o,s,n,d,r){return p(),C(Se,{"style-fn":r.tweak,class:"scroll-y fhpadd"},{default:a(()=>[ue(e.$slots,"default")]),_:3},8,["style-fn"])}var qe=F(Ie,[["render",Te]]);const Ne={setup(){const e=Q(),o=m(5),s=m("red");return{store:e,strokeWidth:o,strokeColor:s}},computed:{myTrack(){return this.store.getMyTrack}}};function Qe(e,o,s,n,d,r){const l=i("ol-geom-line-string"),f=i("ol-style-stroke"),h=i("ol-style"),_=i("ol-feature"),y=i("ol-source-vector"),u=i("ol-vector-layer");return p(),C(u,null,{default:a(()=>[t(y,null,{default:a(()=>[t(_,null,{default:a(()=>[t(l,{coordinates:r.myTrack},null,8,["coordinates"]),t(h,null,{default:a(()=>[t(f,{color:n.strokeColor,width:n.strokeWidth},null,8,["color","width"])]),_:1})]),_:1})]),_:1})]),_:1})}var ze=F(Ne,[["render",Qe]]);const Me=A("div",{class:"q-space"});var W=Y({name:"QSpace",setup(){return()=>Me}});const Re={setup(){const e=m(!0),o=m("top"),s=Q(),n=m(3),d=m("green");return{dialog:e,position:o,store:s,strokeWidth:n,strokeColor:d}},data(){return{currentCenter:this.center,currentZoom:this.zoom,currentResolution:this.resolution,fixedCenter:!1,name:this.$route.query.name}},computed:{bearing(){return(([s,n],[d,r])=>{const l=d-s,f=r-n;return(Math.atan2(l,f)*180/Math.PI+360)%360})(this.store.getNavigateTo[1],this.store.getNavigateTo[0])-this.store.getRotation},navigateTo(){return this.store.getNavigateTo},navigationInProgress(){return this.store.getNavigateTo.length>0},distance(){const e=new G(this.store.getNavigateTo),o=X(e);return o>1e3?(o/1e3).toFixed(2):parseInt(o)},distanceUnit(){const e=new G(this.store.getNavigateTo);return X(e)>1e3?"km":"m"}},methods:{stopNavigation(){this.store.stopNavigation()}}},Oe={class:"text-weight-bold"},Be={class:"text-grey"};function Ue(e,o,s,n,d,r){const l=i("ol-geom-line-string"),f=i("ol-style-stroke"),h=i("ol-style"),_=i("ol-feature"),y=i("ol-source-vector"),u=i("ol-vector-layer");return p(),b(z,null,[t(K,{modelValue:r.navigationInProgress,"onUpdate:modelValue":o[0]||(o[0]=g=>r.navigationInProgress=g),position:n.position,seamless:"",class:"q-dialog__top50"},{default:a(()=>[t(Z,{style:{width:"350px"}},{default:a(()=>[t(P,{class:"row items-center no-wrap"},{default:a(()=>[D("div",null,[D("div",Oe,c(e.$t("goTo"))+": "+c(d.name),1),D("div",Be,c(e.$t("distance"))+": "+c(r.distance)+" "+c(r.distanceUnit),1)]),t(W),t(ee,{name:"navigation",style:te({rotate:r.bearing+"deg"}),size:"lg"},null,8,["style"]),t(x,{flat:"",round:"",icon:"stop",onClick:r.stopNavigation},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","position"]),t(u,null,{default:a(()=>[t(y,null,{default:a(()=>[t(_,null,{default:a(()=>[t(l,{coordinates:r.navigateTo},null,8,["coordinates"]),t(h,null,{default:a(()=>[t(f,{color:n.strokeColor,width:n.strokeWidth},null,8,["color","width"])]),_:1})]),_:1})]),_:1})]),_:1})],64)}var Ee=F(Re,[["render",Ue]]);const je={props:["view"],emits:["centerChanged"],components:{TrackingLayer:ze,NavigationLayer:Ee},setup(){const e=Q(),o=B(),s=m([]),n=m([]),d=m([]),{myLocation:r}=R(e),{clickLocation:l}=R(o);return{store:e,myLocationCoordinates:s,myLocationFeatures:n,myLocation:r,clickFeature:d,clickLocation:l}},computed:{rotation(){return this.store.getRotation}},watch:{myLocation(e,o){const s=me([e.longitude,e.latitude],this.store.getMyLocationAccuracy);this.myLocationFeatures=[new q(s.transform("EPSG:4326",this.store.getProjection)),new q(new O(this.store.getMyLocationCoordinates))],this.myLocationCoordinates=e.coordinates,this.$emit("centerChanged",this.store.getMyLocationCoordinates)},clickLocation(e,o){e?this.clickFeature=[new q(new O(e))]:this.clickFeature=[]}}};function Ae(e,o,s,n,d,r){const l=i("ol-source-vector"),f=i("ol-vector-layer"),h=i("ol-overlay"),_=i("TrackingLayer"),y=i("NavigationLayer");return p(),b(z,null,[t(f,null,{default:a(()=>[t(l,{features:n.myLocationFeatures},null,8,["features"])]),_:1}),t(f,null,{default:a(()=>[t(l,{features:n.clickFeature},null,8,["features"])]),_:1}),n.myLocationFeatures.length>0?(p(),C(h,{key:0,position:n.myLocationCoordinates,positioning:"center-center"},{default:a(u=>[t(ee,{name:"navigation",class:fe(u),style:te({rotate:r.rotation+"deg"}),size:"lg"},null,8,["class","style"])]),_:1},8,["position"])):N("",!0),t(_),t(y)],64)}var We=F(je,[["render",Ae]]);const Ze={setup(){const e=pe(),o=m([]),s=m(new ge);return e.loadForMap().then(()=>{e.customLocationsForMap.map(n=>o.value.push(n))}),{vectorSource:s,store:e,customLocations:o}}};function Ke(e,o,s,n,d,r){const l=i("ol-geom-point"),f=i("ol-style-icon"),h=i("ol-style"),_=i("ol-feature"),y=i("ol-source-vector"),u=i("ol-vector-layer");return p(),C(u,null,{default:a(()=>[t(y,{ref:"vectorSource"},{default:a(()=>[(p(!0),b(z,null,oe(n.customLocations,g=>(p(),C(_,{key:g.id,properties:{id:g.id,name:g.name,lat:g.lat.toFixed(5),lng:g.lng.toFixed(5),type:"poi"}},{default:a(()=>[t(l,{coordinates:g.latLng},null,8,["coordinates"]),t(h,null,{default:a(()=>[t(f,{src:g.icon,scale:1},null,8,["src"])]),_:2},1024)]),_:2},1032,["properties"]))),128))]),_:1},512)]),_:1})}var He=F(Ze,[["render",Ke]]);function J(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const o=parseInt(e,10);return isNaN(o)?0:o}var Ge=he({name:"close-popup",beforeMount(e,{value:o}){const s={depth:J(o),handler(n){s.depth!==0&&setTimeout(()=>{const d=_e(e);d!==void 0&&ye(d,n,s.depth)})},handlerKey(n){ve(n,13)===!0&&s.handler(n)}};e.__qclosepopup=s,e.addEventListener("click",s.handler),e.addEventListener("keyup",s.handlerKey)},updated(e,{value:o,oldValue:s}){o!==s&&(e.__qclosepopup.depth=J(o))},beforeUnmount(e){const o=e.__qclosepopup;e.removeEventListener("click",o.handler),e.removeEventListener("keyup",o.handlerKey),delete e.__qclosepopup}});const Xe={setup(){const e=re(),o=B(),s=Q();o.hideDrawer();const n=m(!1),{showBottomDrawer:d}=R(o);return{dialog:n,confirmDialog:e.dialog,mapStore:o,locationStore:s,showBottomDrawer:d}},computed:{clickedFeature(){return this.mapStore.getClickedFeature},drawerLoading(){return this.mapStore.getDrawerLoading}},methods:{hideDrawer(){this.mapStore.hideDrawer()},goTo(){const e=`[${this.clickedFeature.id}] ${this.clickedFeature.name}`;this.confirmDialog({title:`${this.$t("confirm")}`,message:`${this.$t(this.clickedFeature.type==="cave"?"navigateToCave":"navigateToCustomLocation")}: ${e}`,cancel:!0,persistent:!0}).onOk(()=>{const o=ae([this.clickedFeature.lng,this.clickedFeature.lat]),s=new q(new O(o));this.locationStore.startNavigation(s)})},info(e){this.$router.push({name:this.clickedFeature.type==="cave"?"caves-details":"custom-locations-details",params:{id:e}})}},watch:{showBottomDrawer(e,o){this.dialog=e}}},Je={class:"q-pa-md q-gutter-sm"},Ye={key:0,class:"text-weight-bold"},et={key:1,class:"text-weight-bold"},tt={key:0,class:"text-grey"},ot={class:"text-grey"};function at(e,o,s,n,d,r){return p(),b("div",Je,[t(K,{modelValue:n.dialog,"onUpdate:modelValue":o[2]||(o[2]=l=>n.dialog=l),position:"bottom",onHide:r.hideDrawer,seamless:""},{default:a(()=>[t(Z,{style:{width:"350px"}},{default:a(()=>[r.drawerLoading?(p(),C(P,{key:0,class:"row justify-center items-center"},{default:a(()=>[t(ke,{color:"primary",size:"3em",thickness:2})]),_:1})):(p(),b(z,{key:1},[t(P,{class:"row items-center q-pb-none"},{default:a(()=>[r.clickedFeature.type!=="click"?(p(),b("div",Ye,"["+c(r.clickedFeature.id)+"] "+c(r.clickedFeature.name),1)):(p(),b("div",et,c(e.$t("clickInfo"))+":",1)),t(W),Ce(t(x,{icon:"close",flat:"",round:"",dense:""},null,512),[[Ge]])]),_:1}),t(P,{class:"row items-center no-wrap"},{default:a(()=>[D("div",null,[r.clickedFeature.type==="cave"?(p(),b("div",tt,c(e.$t("length"))+": "+c(r.clickedFeature.length)+" m, "+c(e.$t("depth"))+": "+c(r.clickedFeature.depth)+" m",1)):N("",!0),D("div",ot,c(e.$t("lat"))+": "+c(r.clickedFeature.lat)+", "+c(e.$t("lng"))+": "+c(r.clickedFeature.lng),1)]),t(W),r.clickedFeature.type!=="click"?(p(),C(x,{key:0,flat:"",round:"",icon:"info",onClick:o[0]||(o[0]=l=>r.info(r.clickedFeature.id))})):N("",!0),t(x,{flat:"",round:"",icon:"assist_walker",onClick:o[1]||(o[1]=l=>r.goTo())})]),_:1})],64))]),_:1})]),_:1},8,["modelValue","onHide"])])}var nt=F(Xe,[["render",at]]);const rt={setup(){const{dialog:e,notify:o}=re(),s=ne(),n=B(),{getShowDialog:d,progress:r,allContent:l,currentContent:f}=R(s),h=m(!1),_=m("");return{notify:o,offlineDataName:_,offlineStore:s,mapStore:n,getShowDialog:d,selectedItems:m([]),confirmDialog:m(!1),confirmDownloadDialog:e,progress:r,allContent:l,currentContent:f,progressLabel:w(()=>(r.value*100).toFixed(2)+"%"),allProgressLabel:w(()=>f.value+"/"+l.value),inProgress:h}},watch:{getShowDialog(e,o){this.confirmDialog=e}},methods:{async onSubmit(){if(this.offlineDataName.length===0){this.notify({message:this.$t("offlineNameMissing"),color:"red"});return}this.confirmDownloadDialog({title:`${this.$t("confirm")}`,message:`${this.$t("confirmDownloadOfArea")}`,cancel:!0,persistent:!0}).onOk(async()=>{this.inProgress=!0;try{await this.offlineStore.transferData([...this.selectedItems,"cavesLayer"],this.mapStore.getExtent,this.offlineDataName)}catch(e){console.log(e)}finally{this.onReset()}})},onReset(){this.inProgress=!1,this.confirmDialog=!1,this.offlineStore.hideDialog()}}},st={class:"q-pa-md q-gutter-sm"},lt={class:"text-h6"},it={class:"text-grey-6"},ct={class:"absolute-full flex flex-center"};function dt(e,o,s,n,d,r){return p(),b("div",st,[t(K,{modelValue:n.confirmDialog,"onUpdate:modelValue":o[6]||(o[6]=l=>n.confirmDialog=l),noBackdropDismiss:""},{default:a(()=>[t(Z,{style:{width:"300px"},class:"q-px-sm q-pb-md"},{default:a(()=>[t($e,{onSubmit:r.onSubmit,onReset:r.onReset,class:"q-gutter-md"},{default:a(()=>[t(P,null,{default:a(()=>[D("div",lt,c(e.$t("dataForOffline")),1)]),_:1}),t(P,null,{default:a(()=>[t(Le,{disable:n.inProgress,modelValue:n.offlineDataName,"onUpdate:modelValue":o[0]||(o[0]=l=>n.offlineDataName=l),label:e.$t("offlineDataName"),dense:"",rules:[l=>l&&l.length>0||"Please type something"]},null,8,["disable","modelValue","label","rules"])]),_:1}),t(k,{header:""},{default:a(()=>[v(c(e.$t("mapLayers")),1)]),_:1}),t(T,{dense:""},{default:a(()=>[t(L,{avatar:""},{default:a(()=>[t(I,{disable:n.inProgress,modelValue:n.selectedItems,"onUpdate:modelValue":o[1]||(o[1]=l=>n.selectedItems=l),val:"osm",color:"teal"},null,8,["disable","modelValue"])]),_:1}),t(L,null,{default:a(()=>[t(k,null,{default:a(()=>[v(c(e.$t("osmMapLayer")),1)]),_:1}),t(k,{caption:""},{default:a(()=>[v(c(e.$t("osmMapLayerDescription")),1)]),_:1})]),_:1})]),_:1}),t(T,{dense:""},{default:a(()=>[t(L,{avatar:""},{default:a(()=>[t(I,{disable:n.inProgress,modelValue:n.selectedItems,"onUpdate:modelValue":o[2]||(o[2]=l=>n.selectedItems=l),val:"lidar",color:"teal"},null,8,["disable","modelValue"])]),_:1}),t(L,null,{default:a(()=>[t(k,null,{default:a(()=>[v(c(e.$t("lidarMapLayer")),1)]),_:1}),t(k,{caption:""},{default:a(()=>[v(c(e.$t("lidarMapLayerDescription")),1)]),_:1})]),_:1})]),_:1}),t(T,{dense:""},{default:a(()=>[t(L,{avatar:"",top:""},{default:a(()=>[t(I,{disable:n.inProgress,modelValue:n.selectedItems,"onUpdate:modelValue":o[3]||(o[3]=l=>n.selectedItems=l),val:"ortophoto",color:"teal"},null,8,["disable","modelValue"])]),_:1}),t(L,null,{default:a(()=>[t(k,null,{default:a(()=>[v(c(e.$t("orthoMapLayer")),1)]),_:1}),t(k,{caption:""},{default:a(()=>[v(c(e.$t("orthoMapLayerDescription")),1)]),_:1})]),_:1})]),_:1}),t(k,{header:""},{default:a(()=>[v(c(e.$t("caves")),1)]),_:1}),t(T,{dense:""},{default:a(()=>[t(L,{avatar:"",top:""},{default:a(()=>[t(I,{disable:n.inProgress,modelValue:n.selectedItems,"onUpdate:modelValue":o[4]||(o[4]=l=>n.selectedItems=l),val:"caves",color:"teal"},null,8,["disable","modelValue"])]),_:1}),t(L,null,{default:a(()=>[t(k,null,{default:a(()=>[v(c(e.$t("caveData")),1)]),_:1}),t(k,{caption:""},{default:a(()=>[v(c(e.$t("caveDataDescription")),1)]),_:1})]),_:1})]),_:1}),t(k,{header:""},{default:a(()=>[v(c(e.$t("customLocations")),1)]),_:1}),t(T,{dense:""},{default:a(()=>[t(L,{avatar:"",top:""},{default:a(()=>[t(I,{disable:n.inProgress,modelValue:n.selectedItems,"onUpdate:modelValue":o[5]||(o[5]=l=>n.selectedItems=l),val:"customLocations",color:"teal"},null,8,["disable","modelValue"])]),_:1}),t(L,null,{default:a(()=>[t(k,null,{default:a(()=>[v(c(e.$t("customLocationsData")),1)]),_:1}),t(k,{caption:""},{default:a(()=>[v(c(e.$t("customLocationsDataDescription")),1)]),_:1})]),_:1})]),_:1}),n.inProgress?(p(),C(P,{key:0,class:"text-center q-pa-none"},{default:a(()=>[D("p",it,c(e.$t("fetchingData"))+": "+c(n.allProgressLabel),1),t(De,{"instant-feedback":!0,size:"50px",value:n.progress,color:"accent",class:"q-mt-sm"},{default:a(()=>[D("div",ct,[t(Fe,{color:"white","text-color":"accent",label:n.progressLabel},null,8,["label"])])]),_:1},8,["value"])]),_:1})):N("",!0),t(be,{align:"center",class:"q-mt-md"},{default:a(()=>[t(x,{disable:n.inProgress,label:e.$t("download"),type:"submit",color:"primary"},null,8,["disable","label"]),t(x,{label:e.$t("cancel"),type:"reset",color:"primary",flat:"",class:"q-ml-sm"},null,8,["label"])]),_:1})]),_:1},8,["onSubmit","onReset"])]),_:1})]),_:1},8,["modelValue"])])}var ut=F(rt,[["render",dt]]);const mt=we({name:"IndexPage",components:{PageFullScreen:qe,CartoLayers:Pe,LocationLayers:We,CustomLocationLayers:He,DetailsDrawer:nt,OfflineConfirmDialog:ut},setup(){const e=Q(),o=B(),s=ne(),n=m([1637531,5766419]),d=m("EPSG:3857"),r=m(8),l=m(!1),f=m([]),h=m(null),_=m(""),y=m("");return o.saveMapRef(y),{locationStore:e,center:n,projection:d,zoom:r,view:_,mapRef:y,markLocations:f,goTo:h,customLocations:l,mapStore:o,offlineStore:s}},data(){if(this.$route.query.lat&&this.$route.query.lng){const e=ae([this.$route.query.lng,this.$route.query.lat]),o=new q(new O(e));this.markLocations=[o],this.center=e,this.zoom=15,this.goTo=this.$route.query.navigate?o:null}return this.customLocations=this.$route.query.customLocation,{currentCenter:this.center,currentZoom:this.zoom,currentResolution:this.resolution,fixedCenter:!1}},computed:{trackLocationIcon(){return this.locationStore.getLocationTracking},navigationActive(){return this.locationStore.getNavigationActive},isCenterFixed(){return this.fixedCenter}},methods:{async onMapClick(e){if(e.coordinate){const o=this.mapRef.map.getFeaturesAtPixel(e.pixel);await this.mapStore.mapClick(e.coordinate,o)}},zoomChanged(e){this.currentZoom=e,this.mapStore.updateExtent(this.mapRef.map.getView().calculateExtent())},trackingClicked(e){this.locationStore.toggleLocationTracking()},myLocationClicked(e){this.center=this.locationStore.getMyLocationCoordinates,this.fixedCenter=!0,this.zoom=this.zoom<15?15:this.currentZoom},resolutionChanged(e){this.currentResolution=e.target.getResolution(),this.zoomChanged(e.target.getZoom())},centerChanged(e){if(!e.target)return;const o=e.target.getCenter();this.view!==""&&(this.currentCenter=o,this.view.getInteracting()?this.fixedCenter=!1:this.fixedCenter&&(this.center=o))},onScreenOrientationChange(){this.mapRef.updateSize()},storeDataForOffline(){this.offlineStore.showDialog()}},watch:{view(e,o){this.locationStore.initialize(e.getProjection()),this.goTo&&this.locationStore.startNavigation(this.goTo)}},mounted(){this.mapRef.map.on("click",async e=>{await this.onMapClick(e)})}});function ft(e,o,s,n,d,r){const l=i("ol-view"),f=i("CartoLayers"),h=i("LocationLayers"),_=i("CustomLocationLayers"),y=i("ol-source-vector"),u=i("ol-vector-layer"),g=i("ol-map"),S=i("DetailsDrawer"),M=i("OfflineConfirmDialog"),$=i("PageFullScreen");return p(),C($,{style:{background:"#eee"}},{default:a(()=>[t(g,{loadTilesWhileAnimating:"",loadTilesWhileInteracting:"",style:{height:"100%"},moveTolerance:5,ref:"mapRef"},{default:a(()=>[t(l,{ref:"view",enableRotation:!1,center:e.center,zoom:e.zoom,projection:e.projection,"onChange:center":e.centerChanged,"onChange:resolution":e.resolutionChanged},null,8,["center","zoom","projection","onChange:center","onChange:resolution"]),t(f),t(h,{view:e.view,onCenterChanged:e.centerChanged},null,8,["view","onCenterChanged"]),e.customLocations?(p(),C(_,{key:0})):N("",!0),t(u,null,{default:a(()=>[t(y,{features:e.markLocations},null,8,["features"])]),_:1}),t(se,{onResize:e.onScreenOrientationChange},null,8,["onResize"])]),_:1},512),t(j,{position:"top-right",offset:[18,18]},{default:a(()=>[t(H,{size:"100px","external-label":"",color:"purple",icon:"layers",direction:"left"},{default:a(()=>[(p(!0),b(z,null,oe(e.mapStore.getLayers,V=>(p(),C(U,{key:V.name,padding:"3px","label-class":"bg-grey-3 text-grey-8","external-label":"","label-position":"bottom",color:V.active?"red":"primary",onClick:pt=>V.active=!V.active,icon:`img:${V.preview}`,label:V.label},null,8,["color","onClick","icon","label"]))),128))]),_:1})]),_:1}),t(j,{position:"bottom-left",offset:[18,18]},{default:a(()=>[t(x,{fab:"",icon:e.isCenterFixed?"my_location":"location_searching",color:"accent",onClick:e.myLocationClicked},null,8,["icon","onClick"])]),_:1}),t(j,{position:"bottom-right",offset:[18,18]},{default:a(()=>[t(H,{size:"100px","vertical-actions-align":"right",glossy:"",color:"purple",icon:"add",direction:"up"},{default:a(()=>[t(U,{disable:e.currentZoom<14,"label-position":"right",color:"primary",onClick:e.storeDataForOffline,icon:"wifi_off",label:"Offline"},null,8,["disable","onClick"]),t(U,{"label-position":"right",color:"secondary",icon:e.trackLocationIcon?"stop_circle":"play_arrow",label:"Start track",onClick:e.trackingClicked},null,8,["icon","onClick"])]),_:1})]),_:1}),t(S),t(M)]),_:1})}var bt=F(mt,[["render",ft]]);export{bt as default};
